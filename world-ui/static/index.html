<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Terraria World Creator</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="sky-layer"></div>
  <div class="cloud-layer"></div>
  <div class="mountain-layer"></div>

  <main class="screen">
    <header class="logo-wrap">
      <h1 class="logo-text">Terraria</h1>
      <p class="logo-subtitle">World + Server Control Console</p>
    </header>

    <section class="game-window">
      <div class="window-top-row">
        <label class="field compact">
          <span>Namespace</span>
          <input id="namespace" type="text" value="terraria">
        </label>
        <label class="field compact">
          <span>Deployment</span>
          <input id="deployment" type="text" value="terraria-server">
        </label>
        <label class="field compact">
          <span>PVC</span>
          <input id="pvcName" type="text" value="terraria-config">
        </label>
        <button id="refreshWorlds" class="btn secondary">Refresh worlds</button>
      </div>

      <section class="world-library">
        <div class="mode-switch">
          <button id="modeCreate" class="btn mode active">Criar novo mundo</button>
          <button id="modeExisting" class="btn mode">Usar mundo existente</button>
        </div>
        <div id="worldList" class="world-list">
          <div class="world-item empty">Carregando mundos...</div>
        </div>
        <p id="selectedWorldHint" class="hint">Modo atual: criar um novo mundo</p>
      </section>

      <div class="form-grid">
        <label class="field span-2">
          <span>Nome do mundo (.wld)</span>
          <input id="worldName" type="text" value="test.wld" placeholder="test.wld">
        </label>

        <label class="field span-2">
          <span>Seed manual (opcional)</span>
          <input id="manualSeed" type="text" placeholder="deixe vazio para aleatorio">
        </label>

        <div class="option-group">
          <span class="group-title">Tamanho</span>
          <div class="choice-grid" id="sizeChoices">
            <button data-value="small" class="btn option">Pequeno</button>
            <button data-value="medium" class="btn option active">Medio</button>
            <button data-value="large" class="btn option">Grande</button>
          </div>
        </div>

        <div class="option-group">
          <span class="group-title">Dificuldade</span>
          <div class="choice-grid" id="difficultyChoices">
            <button data-value="journey" class="btn option">Jornada</button>
            <button data-value="classic" class="btn option active">Classico</button>
            <button data-value="expert" class="btn option">Perito</button>
            <button data-value="master" class="btn option">Mestre</button>
          </div>
        </div>

        <div class="option-group">
          <span class="group-title">Evil</span>
          <div class="choice-grid" id="evilChoices">
            <button data-value="random" class="btn option active">Aleatorio</button>
            <button data-value="corruption" class="btn option">Corrupcao</button>
            <button data-value="crimson" class="btn option">Crimson</button>
          </div>
        </div>

        <div class="option-group">
          <span class="group-title">Seeds especiais</span>
          <div class="seed-actions">
            <button id="openSeedModal" class="btn secondary">Abrir biblioteca</button>
            <button id="clearSeeds" class="btn ghost">Limpar</button>
          </div>
          <p id="selectedSeedsLabel" class="hint">Nenhuma seed especial selecionada</p>
        </div>

        <label class="field">
          <span>Max players</span>
          <input id="maxPlayers" type="number" min="1" max="255" value="8">
        </label>

        <label class="field">
          <span>Porta</span>
          <input id="serverPort" type="number" min="1" max="65535" value="7777">
        </label>

        <label class="field span-2">
          <span>Args extras (opcional)</span>
          <input id="extraArgs" type="text" placeholder="-npcstream ...">
        </label>
      </div>

      <div class="resolved-box">
        <span>Resolved seed:</span>
        <strong id="resolvedSeed">(random)</strong>
      </div>

      <div class="actions">
        <button id="createWorld" class="btn primary">Aplicar no servidor</button>
      </div>
    </section>

    <section class="management-window">
      <div class="management-header">
        <h2>Server Management</h2>
        <div class="management-actions">
          <button id="refreshManagement" class="btn secondary">Refresh</button>
          <button id="startServer" class="btn secondary">Start</button>
          <button id="stopServer" class="btn ghost">Stop</button>
          <button id="restartServer" class="btn primary">Restart</button>
        </div>
      </div>

      <div class="management-grid">
        <div class="mgmt-card"><span>World Ativo</span><strong id="mgmtWorld">-</strong></div>
        <div class="mgmt-card"><span>Players Online</span><strong id="mgmtPlayersOnline">-</strong></div>
        <div class="mgmt-card"><span>Players Max</span><strong id="mgmtPlayersMax">-</strong></div>
        <div class="mgmt-card"><span>TCP Probe</span><strong id="mgmtProbe">-</strong></div>
        <div class="mgmt-card"><span>Exporter</span><strong id="mgmtExporter">-</strong></div>
        <div class="mgmt-card"><span>Replicas (A/U)</span><strong id="mgmtReplicas">-</strong></div>
        <div class="mgmt-card"><span>Service</span><strong id="mgmtService">-</strong></div>
        <div class="mgmt-card wide"><span>Image</span><strong id="mgmtImage">-</strong></div>
      </div>

      <div class="management-split">
        <div class="management-block">
          <h3>Pods</h3>
          <pre id="mgmtPods">Waiting...</pre>
        </div>
        <div class="management-block">
          <h3>Recent Players</h3>
          <pre id="mgmtRecentPlayers">Waiting...</pre>
        </div>
      </div>

      <div class="management-block">
        <h3>Server Logs (tail)</h3>
        <pre id="mgmtLogs">Waiting...</pre>
      </div>
    </section>

    <section class="terminal-window">
      <div class="terminal-header">
        <strong>Execution output</strong>
        <span id="runStatus" class="status idle">idle</span>
      </div>
      <pre id="output">Waiting for command...</pre>
    </section>
  </main>

  <div id="seedModal" class="modal hidden" role="dialog" aria-modal="true" aria-label="Special Seeds">
    <div class="modal-card">
      <div class="modal-header">
        <h2>Special Seed Library</h2>
        <button id="closeSeedModal" class="btn ghost">Fechar</button>
      </div>
      <input id="seedSearch" type="text" placeholder="Search seed presets">
      <div id="seedList" class="seed-list"></div>
      <div class="modal-actions">
        <button id="applySeeds" class="btn primary">Aplicar seeds</button>
      </div>
    </div>
  </div>

  <script src="/app.js" defer></script>
</body>
</html>
